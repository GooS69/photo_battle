<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    {% load static %}

    <link class="main_img" rel="stylesheet" type="text/css" href="{% static 'post/style.css' %}">

    {% if user.is_authenticated %}
        <p><a href="{% url 'post:user_page' user.id %}">Hi {{ user.first_name }}</a></p>

    {% else %}
        <p><a href="/login/vk-oauth2">Login with Vk</a></p>
    {% endif %}
    <form action="" method="get">
        <input name="filter" type="text" value="{{ filter }}">
        <input type="submit" value="find">
    </form>
    {% if posts %}
        <form action="" method="get">
            <input name="sorting" type="radio" value="-number_of_likes" checked>Likes
            <input name="sorting" type="radio" value="-number_of_comments">Comments
            <input name="sorting" type="radio" value="pub_date">Pub date
            <input type="submit" value="order">
        </form>
        {% for post in posts %}
            <p><a href="{% url 'post:detail_page' post.id %}">{{ post.name }}</a></p>
            <p>{{ post.number_of_likes }}‚ù§ {{ post.number_of_comments }} comments</p>
            <img class="small_img" src="{{ post.img_large.url }}" alt="img" >
        {% endfor %}
    {% else %}
        <p>No posts are available.</p>
    {% endif %}

    <div>
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </div>

</body>
</html>